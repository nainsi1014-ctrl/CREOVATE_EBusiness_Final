<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>CREOVATE — Checkout</title>
<link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
<link rel="stylesheet" href="css/style.css">
<script defer src="js/app.js"></script>

<script src="https://www.paypal.com/sdk/js?client-id=sb&currency=AUD"></script>
<!-- PayPal Smart Buttons demo client ID (replace with your real Sandbox Client ID for production testing) -->
<script>
document.addEventListener("DOMContentLoaded",()=>{
  const total = localStorage.getItem("cartTotal") || "0.00";
  const el = document.getElementById("total");
  if(el) el.textContent = total;
});
paypal.Buttons({
  createOrder:(data,actions)=>actions.order.create({purchase_units:[{amount:{value: localStorage.getItem("cartTotal")||"0.00"}}]}),
  onApprove:(data,actions)=>actions.order.capture().then(function(details){
    const c = JSON.parse(localStorage.getItem('cart')||'[]');
    const order = { id: (localStorage.getItem('invoiceSeq')||'CRE-INV-0000'), date: new Date().toISOString(), items: c, total: c.reduce((a,b)=>a+b.price,0)};
    localStorage.setItem('lastOrder', JSON.stringify(order));
    localStorage.removeItem('cart');
    window.location.href='invoice.html';
  })
}).render('#paypal-button-container');
</script>

</head><body>
<div class="nav" role="navigation" aria-label="Primary">
  <a class="logo" href="index.html"><img src="assets/logo.svg" alt="CREOVATE logo" width="32" height="32"/> CREOVATE</a>
  <div class="links"><a href="index.html">Home</a><a href="tutorials.html">Tutorials</a><a href="challenges.html">Challenges</a><a href="marketplace.html" class="current">Marketplace</a><a href="services.html">Services</a><a href="contact.html">Contact</a></div>
  <div><a class="btn ghost" href="marketplace.html">Shop Kits</a> <a class="btn" href="challenges.html">Join Challenge</a></div>
</div>
<div class="container" role="main">

<h2 class="h2">Checkout</h2>
<div class="grid cols-2">
  <div class="card">
    <h3 class="h3">Billing details</h3>
    <div class="form-row">
      <input class="input" placeholder="Full name">
      <input class="input" placeholder="Email">
    </div>
    <input class="input" placeholder="Address">
    <p class="small">Choose a payment method below. PayPal uses sandbox (client-side only).</p>
  </div>
  <div class="card">
    <h3 class="h3">Order summary</h3>
    <table class="table" id="summary"></table>
  </div>
</div>
<div class="grid cols-2" style="margin-top:12px">
  <div class="card">
    <h3 class="h3">Option A: Pay with PayPal</h3>
    <div id="paypal-button-container"></div>
  </div>
  <div class="card">
    <h3 class="h3">Option B: Simulated Payment</h3>
    <button class="btn" onclick="simulatePay()">Pay Now (Simulation)</button>
  </div>
</div>

</div>
<footer>
  <div class="container grid cols-2">
    <div><strong>CREOVATE</strong><br/>ABN: 12 345 678 901 (Temporary — class assignment)<br/><span class="small">This website/app is for a class assignment and not for commercial purposes.</span><br/>
      <div><a href="#">Instagram</a> · <a href="#">TikTok</a> · <a href="#">YouTube</a> · <a href="#">Facebook</a></div>
    </div>
    <div><iframe title="CREOVATE HQ Map" width="100%" height="180" style="border:0;border-radius:12px" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src="https://www.google.com/maps?q=Sydney,+NSW,+Australia&output=embed"></iframe></div>
  </div>
  <div class="container small">© 2025 CREOVATE. All rights reserved.</div>
</footer>
</body></html>